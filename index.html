<!dOcTyPe hTmL>
<HTML Lang=en>
<TITLE>kibigo!’s web portal</TITLE>
<META Charset=utf-8>
<META Name=referrer Content=no-referrer>
<META Name=viewport Content="width=device-width">
<LINK Rel=icon HRef=Images/Favicon/image.svg>
<STYLE>
@font-face{ Font-Family: "M+ 2c"; Font-Weight: 400; Src: URL("./Fonts/Mplus-Fonts/fonts/mplus-2c-regular.ttf") Format("truetype") }
@font-face{ Font-Family: "M+ 2c"; Font-Weight: 700; Src: URL("./Fonts/Mplus-Fonts/fonts/mplus-2c-bold.ttf") Format("truetype") }
html{ Padding: 1EM 2EM 3EM; Background: #F0F0F0; Color: #000000; Font: Medium / 1.25 "M+ 2c", Sans-Serif }
body{ Display: Grid; Margin: Auto; Width: 100%; Grid-Auto-Flow: Dense Row; Gap: 2REM }
body>*{ Display: Block; Box-Sizing: Border-Box; Margin: 0 Auto; Width: 100%; Max-Width: 31REM }
body>header,
body>footer{ Grid-Column: 1 / -1; Text-Align: Center }
body>header{ Border-Bottom: Thin Solid }
body>div{ Display: Grid; Gap: 2REM; Align-Self: Start }
body>div>*:Nth-Child(n){ Margin-Top: 0; Margin-Bottom: 0 }
@media ( Min-Width: 48REM ) {
	body{ Grid-Template-Columns: 1FR 1FR } }
*:Not(summary):Not(h2)+aside,*:Not(summary):Not(h2)+details,*:Not(summary):Not(h2)+nav,*:Not(summary):Not(h2)+section{ Margin-Top: 1REM }
aside:Not(:Last-Child),details:Not(:Last-Child),nav:Not(:Last-Child),section:Not(:Last-Child){ Margin-Bottom: 1REM }
aside#search{ Margin: 0 -.5REM; Border-Style: Double Dashed; Border-Width: Medium Thin; Border-Radius: .5REM; Padding: 1REM .5REM }
aside#search p{ Margin: 0 }
aside#search dl{ Margin: 0; Line-Height: 1.5 }
aside#search dl>div{ Margin: .75EM 0 0 1REM }
aside#search dt{ Margin: 0 0 0 -1REM; Font-Weight: Bold; Line-Height: 1.25 }
aside#search dd{ Display: Inline; Margin: 0; Padding: 0 }
aside#Fortune{ Margin: 0; Border: Thin Solid; Padding: 1REM; Background: #FAF8F7; Color: #57534C; Font: 1REM / 1.5 Serif; Text-Align: Justify }
aside#Fortune>h2{ Margin: -1.75REM 0 .75REM; Border: Thin Solid; Padding: 0 .5REM; Max-Width: Max-Content; Background: #FAF8F7; Font-Size: Inherit; Font-Style: Italic; Font-Weight: Bold }
aside#Fortune>blockquote{ Margin: 0 }
aside#Fortune p{ Margin: 0 }
aside#Fortune p+p{ Text-Indent: 2EM }
aside#Fortune>footer{ Margin: 1REM -.5REM 0; Padding: 1EM .5REM 0; Border-Top: Thin Solid; Font-Size: Smaller; Text-Align: Right }
aside#Fortune>footer>nav{ Margin: 1EM 0 -1.75REM Auto; Border: Thin Solid; Border-Top: Thin Dashed; Padding: 0 .5EM 0 2.5EM; Max-Width: Max-Content; Columns: Auto; Background: #FAF8F7; Line-Height: 1.5REM; Word-Spacing: .5CH }
aside#Fortune *:Any-Link,
aside#Fortune button.LINK{ Color: #1F1A14 }
aside#Calendar{ --SeasonColor: DarkGrey }
aside#Calendar[data-season="1"]{ --SeasonColor: ForestGreen }
aside#Calendar[data-season="2"]{ --SeasonColor: PaleVioletRed }
aside#Calendar[data-season="3"]{ --SeasonColor: Goldenrod }
aside#Calendar[data-season="4"]{ --SeasonColor: Crimson }
aside#Calendar[data-season="5"]{ --SeasonColor: LightSeaGreen }
aside#Calendar[data-season="6"]{ --SeasonColor: Sienna }
aside#Calendar[data-season="7"]{ --SeasonColor: RoyalBlue }
aside#Calendar[data-season="8"]{ --SeasonColor: DarkOrange }
aside#Calendar[data-season="9"]{ --SeasonColor: DimGrey }
aside#Calendar[data-season="10"]{ --SeasonColor: MediumOrchid }
aside#Calendar{ Display: Grid; Border: Thin Solid; Padding: 1REM; Grid: Auto 1FR / Auto 1FR; Gap: 1REM 2REM; Background: WhiteSmoke; Color: Black; Box-Shadow: 3PX 2PX Var(--SeasonColor) }
aside#Calendar>p{ Grid-Area: 1 / 2; Margin: -1REM -1REM 0; Border-Bottom: Thin Solid; Padding: .25REM 1REM; Background: White }
aside#Calendar>h2{ Display: Flex; Flex-Direction: Column; Grid-Area: 1 / 1 / Span 2; Margin: -1REM; Border: Double; Padding: 1REM; Justify-Content: Center; Background: Var(--SeasonColor); Color: White; Box-Shadow: 1PX 0 Var(--SeasonColor); Font: Inherit; Text-Align: Center; Text-Shadow: 1PX 1PX 1PX Black }
aside#Calendar>h2>b{ Display: Block; Font-Size: 4EM }
aside#Calendar section#today h3{ Margin: 0; Border: None; Padding: 0; Background: None; Color: Var(--SeasonColor); Letter-Spacing: Calc(1EM / 18); Text-Transform: Uppercase }
aside#Calendar section#today p{ Margin: .75EM 0 0; Text-Align: Justify; Hyphens: Auto }
aside#Calendar *:Any-Link{ Color: MediumBlue }
aside#Calendar strong{ Color: Var(--SeasonColor) }
details{ Column-Span: All; Border: Thin Solid; Padding: .25EM 1EM; Columns: 2 12REM; Background: #FFFFFF; Font-Size: Inherit }
details:Not([open]){ Columns: Auto; Border-Bottom: Medium Double; Max-Width: Max-Content }
summary{ Column-Span: All; Margin: 0 0 1EM; Border-Bottom: Thin Solid; Font-Weight: Bold }
details:Not([open])>summary{ Margin: 0; Border: None }
nav{ Columns: 2 12REM; Text-Align: Left }
iframe{ Display: Block; Box-Sizing: Border-Box; Margin: 0 Auto; Border: #948D87 Groove; Height: 6REM; Width: 100%; Background: #DEDBD9; Color: #57534C }
h1{ Margin: 0 }
h2{ Column-Span: All; Margin: 0 0 1EM; Border-Bottom: Thin Solid; Font-Size: X-Large; Font-Weight: Inherit }
h3{ Margin: 1EM 0; Border: Thin Solid; Padding: .25EM 1EM; Max-Width: Max-Content; Background: #FFFFFF; Font-Size: Inherit; Text-Decoration: Underline }
summary+section>h3,
h2+section>h3{ Margin-Top: 0 }
hr{ Column-Span: All; Margin: .75EM 0; Border-Style: None None Dashed; Border-Color: CurrentColor; Border-Width: Thin; Padding: 0; Height: 0; Width: 100% }
p{ Margin: .75EM 0 }
ul{ Margin: .75EM 0; Padding: 0 0 0 2REM }
details>ul:Only-Of-Type,
nav>ul:Only-Of-Type{ Margin: 0 }
li>a:Only-Child{ Display: Block; Margin: 0 0 0 -1REM; Text-Indent: 1REM }
*:Any-Link,
button.LINK{ Color: #004599 }
*:Any-Link:Active,
button.LINK:Active{ Color: #CD2C00 }
button{ All: Unset; Border: Thin Solid; Border-Radius: .25EM; Padding: 0 .25EM; Background: #FFFFFF; Cursor: Default; Font-Size: Smaller }
button:Disabled{ Background: None; Text-Decoration-Line: Line-Through; Text-Decoration-Thickness: 1PX }
button:Hover{ Background: None }
button:Focus,
button:Active{ Outline: Thin Dashed }
button.LINK{ Border: None; Background: None; Cursor: Pointer; Font-Size: Inherit; Text-Decoration: Underline }
label{ Font-Weight: Bold }
u{ Text-Decoration-Thickness: 1PX; Text-Decoration-Skip-Ink: None }
</STYLE>

<HEADER>
	<H1>kibigo!’s web portal</H1>
	<P>hi!  welcome to my website!
	<P>wondering who i am?  you can learn more at <a href="About/#me">this link</a>.
</HEADER>

<DIV>
	<NAV ID=links>
		<H2>Links</H2>
		<SECTION ID=myself>
			<H3>my accounts</H3>
			<UL>
				<LI><A HRef=https://gitlab.com/kibigo>gitlab:kibigo</A>
				<LI><A HRef=https://github.com/marrus-sh>github:marrus-sh</A>
			</UL>
		</SECTION>
		<SECTION ID=friends>
			<H3>friends</H3>
			<UL>
				<LI><A HRef=https://æscling.cat.family>æscling</A>
			</UL>
		</SECTION>
		<SECTION ID=texts>
			<H3>texts</H3>
			<UL>
				<LI><A HRef=https://archiveofourown.org>Archive of Our Own</A>
				<LI><A HRef=http://lunastationquarterly.com><CITE>Luna Station Quarterly</CITE></A>
				<LI><A HRef=https://forums.thousandroads.net>Thousand Roads Forums</A>
				<LI><A HRef=https://www.u2764.com><CITE>www.u2764.com</CITE></A>
			</UL>
		</SECTION>
		<SECTION ID=webcomics>
			<H3>webcomics</H3>
			<UL>
				<LI><A HRef=https://www.questionablecontent.net><CITE>Questionable Content</CITE></A>
				<LI><A HRef=https://www.dumbingofage.com><CITE>D⸺ing of Age</CITE></A>
			</UL>
		</SECTION>
		<SECTION ID=other>
			<H3>other</H3>
			<UL>
				<LI><A HRef=https://www.unicode.org/L2/L-curdoc.htm>U·T·C Document Register</A>
			</UL>
		</SECTION>
		<HR>
		<DETAILS ID=specs>
			<SUMMARY>Specifications</SUMMARY>
			<SECTION ID=w3c>
				<H3>W·3·C</H3>
				<UL>
					<LI><A HRef=https://www.w3.org/TR/xml11/>X·M·L</A>
					<LI><A HRef=https://www.w3.org/TR/xml-names11/>X·M·L Names</A>
					<LI><A HRef=https://www.w3.org/TR/1999/REC-xpath-19991116/>X·Path</A>
					<LI><A HRef=https://www.w3.org/TR/1999/REC-xslt-19991116/>X·S·L·T</A>
					<LI><A HRef=https://www.w3.org/TR/xmlschema11-2/>X·S·D Datatypes</A>
					<LI><A HRef=https://www.w3.org/TR/rdf11-concepts/>R·D·F Concepts</A>
					<LI><A HRef=https://www.w3.org/TR/rdf11-mt/>R·D·F Semantics</A>
					<LI><A HRef=https://www.w3.org/TR/rdf-schema/>R·D·F Schema</A>
					<LI><A HRef=https://www.w3.org/TR/turtle/>R·D·F∕Turtle</A>
					<LI><A HRef=https://www.w3.org/TR/rdf-syntax-grammar/>R·D·F∕X·M·L</A>
					<LI><A HRef=https://www.w3.org/TR/rdfa-core/>R·D·F∕A</A>
					<LI><A HRef=https://www.w3.org/2011/rdfa-context/rdfa-1.1>R·D·F∕A Core Initial Context</A>
					<LI><A HRef=https://www.w3.org/TR/skos-reference/>S·K·O·S</A>
					<LI><A HRef=https://www.w3.org/TR/owl2-syntax/>O·W·L</A>
					<LI><A HRef=https://www.w3.org/TR/json-ld11/>J·S·O·N‐L·D</A>
					<LI><A HRef=https://www.w3.org/TR/css/>C·S·S</A>
				</UL>
			</SECTION>
			<SECTION ID=whatwg>
				<H3>W·H·A·T·W·G</H3>
				<UL>
					<LI><A HRef=https://html.spec.whatwg.org/multipage/>H·T·M·L</A>
					<LI><A HRef=https://dom.spec.whatwg.org/>D·O·M</A>
				</UL>
			</SECTION>
			<SECTION ID=ietf>
				<H3>I·E·T·F</H3>
				<UL>
					<LI><A HRef=https://www.rfc-editor.org/rfc/rfc3986.html>R·F·C 3986</A>
					<LI><A HRef=https://www.rfc-editor.org/rfc/rfc3987.html>R·F·C 3987</A>
					<LI><A HRef=https://www.rfc-editor.org/rfc/rfc5646.html>R·F·C 5646</A>
				</UL>
			</SECTION>
			<SECTION ID=ecma>
				<H3>Ecma</H3>
				<UL>
					<LI><A HRef=https://tc39.es/ecma262/multipage/>Ecma 262</A>
					<LI><A HRef=https://tc39.es/ecma402/>Ecma 402</A>
				</UL>
			</SECTION>
			<SECTION ID=unicode>
				<H3>Unicode</H3>
				<UL>
					<LI><A HRef=https://unicode.org/versions/latest/>Unicode Standard</A>
					<LI><A HRef=https://www.unicode.org/reports/>Unicode Technical Reports</A>
				</UL>
			</SECTION>
			<SECTION ID=other_specs>
				<H3>Other</H3>
				<UL>
					<LI><A HRef=http://xmlns.com/foaf/spec/>F·O·A·F</A>
					<LI><A HRef=https://www.dublincore.org/specifications/dublin-core/dcmi-terms/>D·C·M·I Metadata Terms</A>
				</UL>
			</SECTION>
		</DETAILS>
	</NAV>
	<ASIDE ID=search>
		<P><LABEL For=query>Quick Search:</LABEL> <SPAN Style="White-Space: NoWrap"><INPUT Type=text Name=query Id=query Autofocus Placeholder=Query…> <BUTTON Type=button Disabled>Visit U·R·L</BUTTON></SPAN>
		<DL TabIndex=0>
			<DIV>
				<DT>Search Engines
				<DD><BUTTON AccessKey=g Type=button Data-Search=https://duckduckgo.com/?q=%s>DuckDuck<U>G</U>o</BUTTON>
				<DD><BUTTON AccessKey=b Type=button Data-Search=https://www.bing.com/search?q=%s><U>B</U>ing</BUTTON>
				<DD><BUTTON AccessKey=o Type=button Data-Search=https://www.google.com/search?q=%s>G<U>o</U>ogle</BUTTON>
				<DD><BUTTON AccessKey=f Type=button Data-Search=https://www.flickr.com/search/?q=%s><U>F</U>lickr</BUTTON>
				<DD><BUTTON AccessKey=i Type=button Data-Search=https://www.google.com/search?tbm=isch&amp;q=%s&amp;tbs=imgo:1>Google <U>I</U>mages</BUTTON>
				<DD><BUTTON AccessKey=y Type=button Data-Search=https://www.youtube.com/results?search_query=%s><U>Y</U>ouTube</BUTTON>
			</DIV>
			<DIV>
				<DT>Wikis
				<DD><BUTTON AccessKey=w Type=button Data-Search=https://en.wikipedia.org/wiki/Special:Search/%s><U>W</U>ikipedia</BUTTON>
				<DD><BUTTON AccessKey=t Type=button Data-Search=https://en.wiktionary.org/wiki/Special:Search/%s>Wik<U>t</U>ionary</BUTTON>
				<DD><BUTTON AccessKey=s Type=button Data-Search=https://en.wiktionary.org/wiki/Special:Search/%s?ns110=1&fulltext=Search+Thesaurus>Wiktionary The<U>s</U>aurus</BUTTON>
				<DD><BUTTON AccessKey=d Type=button Data-Search=https://www.wikidata.org/wiki/Special:Search/%s>Wiki<U>d</U>ata</BUTTON>
				<DD><BUTTON AccessKey=p Type=button Data-Search=https://bulbapedia.bulbagarden.net/wiki/Special:Search/%s>Bulba<U>p</U>edia</BUTTON>
			</DIV>
			<DIV>
				<DT>Technology
				<DD><BUTTON AccessKey=m Type=button Data-Search=https://developer.mozilla.org/en-US/search?q=%s><U>M</U>·D·N Web Documentation</BUTTON>
				<DD><BUTTON AccessKey=a Type=button Data-Search=https://developer.apple.com/search/?q=%s&amp;type=Reference><U>A</U>pple Developer Reference</BUTTON>
				<DD><BUTTON AccessKey=c Type=button Data-Search=https://www.git-scm.com/search/results?search=%s>Git Referen<U>c</U>e</BUTTON>
			</DIV>
			<DIV>
				<DT>Other Resources
				<DD><BUTTON AccessKey=k Type=button Data-Search=https://web.archive.org/web/*/%s>Waybac<U>k</U> Machine</BUTTON>
				<DD><BUTTON AccessKey=r Type=button Data-Search=https://translate.google.com/#auto/en/%s>Google T<U>r</U>anslate</BUTTON>
				<DD><BUTTON AccessKey=n Type=button Data-Search=https://www.behindthename.com/names/search.php?terms=%s>Behind the <U>N</U>ame</BUTTON>
				<DD><BUTTON AccessKey=e Type=button Data-Search=https://www.etymonline.com/index.php?allowed_in_frame=0&amp;search=%s&amp;searchmode=none><U>E</U>tymonline</BUTTON>
				<DD><BUTTON AccessKey=u Type=button Data-Search=https://r12a.github.io/uniview/?charlist=%s><U>U</U>niView</BUTTON>
				<DD><BUTTON AccessKey=j Type=button Data-Search=https://emojipedia.org/search/?q=%s>Emo<U>j</U>ipedia</BUTTON>
			</DIV>
		</DL>
		<SCRIPT Type=module>
const
	queryElement = document.getElementById("query")
	, navigationButton = document.querySelector("aside#search>p button")
queryElement.addEventListener("input", ( ) => { navigationButton.disabled = !(/^(?:[A-Za-z0-9\u{2D}_.~!#$&'()*+,\u{2F}:;=?@\u{5B}\u{5D}\u{A0}-\uD7FF\u{F900}-\u{FDCF}\u{10000}-\u{1FFFD}\u{20000}-\u{2FFFD}\u{30000}-\u{3FFFD}\u{40000}-\u{4FFFD}\u{50000}-\u{5FFFD}\u{60000}-\u{6FFFD}\u{70000}-\u{7FFFD}\u{80000}-\u{8FFFD}\u{90000}-\u{9FFFD}\u{A0000}-\u{AFFFD}\u{B0000}-\u{BFFFD}\u{C0000}-\u{CFFFD}\u{D0000}-\u{DFFFD}\u{E0000}-\u{EFFFD}]|%[0-9]{2})+$/u.test(queryElement.value) && (/^(?:http:\/\/)?localhost(?::[0-9]*)?(?:\/|$)/u.test(queryElement.value) || /\./u.test(queryElement.value))) })
queryElement.addEventListener("keydown", ({ key }) => {
	if ( key == "Enter" ) {
		queryElement.blur()
		if ( !navigationButton.disabled ) navigationButton.click() } })
navigationButton.addEventListener("click", ( ) => {
	if ( !navigationButton.disabled ) location.href = /^(?!localhost:)[A-Za-z][A-Za-z0-9+\u{2D}.]*:/u.test(queryElement.value) ? queryElement.value : `http://${ queryElement.value }` })
document.querySelector("aside#search>dl").addEventListener("keydown", ({ key }) => Array.from(document.querySelectorAll("aside#search>dl button")).find($ => $.accessKey == key).click())
for ( const button of document.querySelectorAll("aside#search>dl button") ) {
button.addEventListener("click", ( ) => location.href = button.dataset.search.replace("%s", queryElement.value)) }
		</SCRIPT>
	</ASIDE>
</DIV>

<DIV>
	<ASIDE ID=Calendar>
		<P>
		<H2>Calendar</H2>
		<SECTION ID=today>
			<H3>Today</H3>
			<P Hidden>
				<STRONG>Observance:</STRONG> 
				<SPAN>Summary.</SPAN>
				<A HRef=Calendar/#>Click here for more information.</A>
			</P>
		</SECTION>
		<SCRIPT Type=module>
fetch(new Request ("Calendar/@.rdf")).then(response => response.text()).then(text => {
	const
		calendarDocument = (new DOMParser).parseFromString(text, "application/xml")
		, now = new Date
		, currentYear = now.getFullYear()
		, currentMonth = now.getMonth() + 1
		, currentDay = now.getDate()
		, seasons = Array.from(calendarDocument.querySelectorAll("ProperInterval")).sort((a, b) => a.querySelector("hasBeginning month").textContent.substring(2) - b.querySelector("hasBeginning month").textContent.substring(2) || a.querySelector("hasBeginning day").textContent.substring(3) - b.querySelector("hasBeginning day").textContent.substring(3))
		, season = seasons.find(( _, index ) => {
			if ( index + 1 == seasons.length ) return true
			else {
				const
					firstSeason = seasons[0]
					, firstMonth = +firstSeason.querySelector("hasBeginning month").textContent.substring(2)
					, firstDay = +firstSeason.querySelector("hasBeginning day").textContent.substring(3)
				if ( firstMonth == currentMonth && firstDay > currentDay ) return false
				else {
					const
						$ = seasons[index + 1]
						, month = +$.querySelector("hasBeginning month").textContent.substring(2)
						, day = +$.querySelector("hasBeginning day").textContent.substring(3)
					return index != 0 && month > currentMonth || month == currentMonth && day > currentDay } } })
		, seasonElement = document.createElement("strong")
		, todayElement = document.querySelector("aside#Calendar>h2")
		, observance = Array.from(calendarDocument.querySelectorAll("DateTimeInterval")).find($ => {
			const
				year = +($.querySelector("year")?.textContent ?? NaN)
				, month = +$.querySelector("month").textContent.substring(2)
				, day = +$.querySelector("day").textContent.substring(3)
			return (isNaN(year) || year == currentYear) && month == currentMonth && day == currentDay })
	document.querySelector("aside#Calendar").dataset.season = seasons.indexOf(season) + 1
	seasonElement.textContent = `${ season.getAttributeNS("http://www.w3.org/2000/01/rdf-schema#", "label") }`
	document.querySelector("aside#Calendar>p:First-Of-Type").replaceChildren(...
		[ "The season of "
		, seasonElement
		, "." ])
	todayElement.textContent = ""
	todayElement.appendChild(document.createTextNode(
		[ "Sunday, "
		, "Monday, "
		, "Tuesday, "
		, "Wednesday, "
		, "Thursday, "
		, "Friday, "
		, "Saturday, " ][now.getDay()]))
	todayElement.appendChild(document.createElement("b")).textContent = now.getDate() < 10 ? `0${ now.getDate() }` : now.getDate()
	todayElement.appendChild(document.createTextNode(`${
		[ " January "
		, " February "
		, " March "
		, " April "
		, " May "
		, " June "
		, " July "
		, " August "
		, " September "
		, " October "
		, " November "
		, " December " ][now.getMonth()] } ${ now.getFullYear() }`))
	if ( observance != null ) {
		document.querySelector("section#today>p>strong").textContent = `${ observance.getAttributeNS("https://go.KIBI.family/Ontologies/About/#", "sigil") } ${ observance.getAttributeNS("http://www.w3.org/2000/01/rdf-schema#", "label") }:`
		document.querySelector("section#today>p>span").textContent = Array.from(observance.children).find($ => $.localName == "comment" && $.namespaceURI == "http://www.w3.org/2000/01/rdf-schema#")?.firstElementChild?.firstElementChild?.textContent ?? ""
		document.querySelector("section#today>p>a").href = `/Calendar/#${ observance.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "ID") }` }
	else {
		const noObservanceElement = document.createElement("i")
		noObservanceElement.textContent = "No observance today."
		document.querySelector("section#today>p").replaceChildren(noObservanceElement) }
	document.querySelector("section#today>p").hidden = false })
		</SCRIPT>
	</ASIDE>
	<ASIDE ID=Fortune>
		<H2>✨ Fortune ✨</H2>
		<BLOCKQUOTE></BLOCKQUOTE>
		<FOOTER>
			<P>
			<NAV Hidden>
				<A Class=PERMALINK>Permalink.</A>
				<BUTTON Type=Button Class="REFRESH LINK">Refresh.</BUTTON>
			</NAV>
		</FOOTER>
		<SCRIPT Type=module>
let
	fortuneDocument = null
	, quotations = [ ]
const refreshFortune = ( ) => {
const quotation = quotations[Math.floor(Math.random() * quotations.length)]
document.querySelector("aside#Fortune>blockquote").replaceChildren(...Array.from(Array.from(quotation.children).find($ => $.localName == "value" && $.namespaceURI == "http://www.w3.org/1999/02/22-rdf-syntax-ns#").children).map($ => document.importNode($, true)))
; {
	const
		citation = Array.from(fortuneDocument.documentElement.children).find($ => $.localName == "Document" && $.namespaceURI == "http://xmlns.com/foaf/0.1/" && $.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about") == Array.from(quotation.children).find($ => $.localName == "isBasedOn" && $.namespaceURI == "https://schema.org/").getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "resource"))
		, citeElement = document.querySelector("aside#Fortune>footer p")
	citeElement.textContent = ""
	; {
		const speaker = Array.from(quotation.children).find($ => $.localName == "maker" && $.namespaceURI == "http://xmlns.com/foaf/0.1/")
		if ( speaker != null ) {
			const
				speakerURI = speaker.children[0]?.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about")
				, speakerElement = document.createElement(speakerURI == null ? "span" : "a")
			if ( speakerURI != null ) speakerElement.href = speakerURI
			speakerElement.textContent = speaker.textContent.trim() || speaker.children[0]?.getAttributeNS("http://xmlns.com/foaf/0.1/", "name") || "Anonymous"
			citeElement.appendChild(speakerElement)
			citeElement.appendChild(document.createTextNode(", as quoted in: ")) } }
	; {
		const
			sourceLinkElement = document.createElement("a")
			, sourceElement = document.createElement("cite")
		sourceLinkElement.href = citation.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about")
		sourceElement.textContent = Array.from(citation.children).find($ => $.localName == "name" && $.namespaceURI == "http://xmlns.com/foaf/0.1/")?.textContent ?? "Untitled"
		sourceLinkElement.appendChild(sourceElement)
		citeElement.appendChild(sourceLinkElement) }
	Array.from(citation.children).filter($ => $.localName == "maker" && $.namespaceURI == "http://xmlns.com/foaf/0.1/").forEach((author, index, { length }) => {
		const
			authorURI = author.children[0]?.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about")
			, authorElement = document.createElement(authorURI == null ? "span" : "a")
		if ( authorURI != null ) authorElement.href = authorURI
		authorElement.textContent = author.textContent.trim() || author.children[0]?.getAttributeNS("http://xmlns.com/foaf/0.1/", "name") || "Anonymous"
		if ( index == 0 ) citeElement.appendChild(document.createTextNode(" | "))
		citeElement.appendChild(authorElement)
		if ( length - index > 2 ) citeElement.appendChild(document.createTextNode(", "))
		else if (length - index == 2) citeElement.appendChild(document.createTextNode(" & ")) })
	; {
		const
			publisher = Array.from(citation.children).find($ => $.localName == "publisher" && $.namespaceURI == "http://purl.org/dc/terms/")
			, date = Array.from(citation.children).find($ => $.localName == "date" && $.namespaceURI == "http://purl.org/dc/terms/")
		if ( publisher == null && date == null ) citeElement.appendChild(document.createTextNode("."))
		else {
			citeElement.appendChild(document.createTextNode(" ("))
			if ( publisher != null ) {
				const
					publisherURI = publisher.children[0]?.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about")
					, publisherElement = document.createElement(publisherURI == null ? "span" : "a")
				if ( publisherURI != null ) publisherElement.href = publisherURI
				publisherElement.textContent = publisher.textContent.trim() || publisher.children[0]?.getAttributeNS("http://xmlns.com/foaf/0.1/", "name") || "Unknown"
				citeElement.appendChild(publisherElement)
				if ( date != null ) citeElement.appendChild(document.createTextNode(`, ${ date.textContent }).`))
				else citeElement.appendChild(document.createTextNode(").")) }
			else citeElement.appendChild(document.createTextNode(`${ date.textContent }).`)) } } }
document.querySelector("aside#Fortune>footer a.PERMALINK").href = `/Fortune/${ quotation.getAttributeNS("http://www.w3.org/1999/02/22-rdf-syntax-ns#", "about") }`
document.querySelector("aside#Fortune>footer>nav").hidden = false }
fetch(new Request ("Fortune/@.rdf")).then(response => response.text()).then(text => {
	fortuneDocument = (new DOMParser).parseFromString(text, "application/xml")
	quotations = Array.from(fortuneDocument.documentElement.children).filter($ => $.localName == "Quotation" && $.namespaceURI == "https://schema.org/")
	document.querySelector("aside#Fortune>footer button.REFRESH").addEventListener("click", refreshFortune)
	refreshFortune() })
		</SCRIPT>
	</ASIDE>
</DIV>

<FOOTER>
	<ASIDE>
		<IFRAME ID=WebRing/💀💖 Src=https://go.KIBI.family/WebRings/💀💖/embed/#/kibigo Sandbox="allow-scripts allow-same-origin allow-top-navigation"></IFRAME>
		<SCRIPT Type=module>
//  Safari scrolls the page to the IFRAME on load, presumably due to the hash in its @src.
//  The following event listener (hopefully) undoes this.
document.getElementById("WebRing/💀💖").addEventListener("load", ( ) => window.scrollTo(0, 0))
		</SCRIPT>
	</ASIDE>
	<SVG Style="Display: Block; Margin: 0 Auto; Border: 3PX #2E0500 Solid; Padding: 2PX; Height: 3EM; Color: #8A1C00; Background: #FFFFFF; Box-Shadow: -2PX -2PX #EEAE00, 2PX 2PX #CD2C00, 0 0 4PX 2PX #05285C" Fill=currentColor ViewBox="0 0 84 32" Aria-Label=KIBIGO>
		<USE HRef=Images/Logotype/image.svg#svg>
	</SVG>
	<P><A HRef=Sitemap/><B>full sitemap</B></A>
</FOOTER>
